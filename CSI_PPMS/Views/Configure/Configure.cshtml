@model LoginResponse

@{
    ViewData["Title"] = "Reports";
    ViewData["username"] = @Model.UserName;
    ViewData["moduleId"] = @Model.ModuleId;
    ViewData["roleId"] = @Model.RoleId;
}


<div style="height:100%;display:flex">
    <input id="plateno" type="hidden" value="" />
    <input id="moduleId" type="hidden" value="@Model.ModuleId" />
    <input id="roleId" type="hidden" value="" />
    <input id="userId" type="hidden" value="@Model.UserName" />
    <input id="userIdid" type="hidden" value="@Model.UserId" />
    <div id="conftbl" style="display:flex;flex-direction:column;justify-content:flex-start;width:15%;height:100%;background-color:white;gap:2px;margin:0px;padding:2px">
        @if (Model.RoleId == 1)
        {
            <button id="userConf" value="CreateUserBtnTemp" style="height:5%;border:none;border-radius:10px;background-color:gray" onclick="UserConfTemp(this)">User Configuration</button>
        }
        <button id="sapconf" value="CreateSAPBtnTemp" style="height:5%;border:none;border-radius:10px;background-color:lightgray" onclick="UserConfTemp(this)">SAP Configuration</button>
        @if (Model.ModuleId != 4)
        {
            <button id="ipconf" value="CreateIPBtnTemp" style="height:5%;border:none;border-radius:10px;background-color:lightgray" onclick="UserConfTemp(this)">IP Configuration</button>
            <button id="tempconf" value="CreateTempBtnTemp" style="height:5%;border:none;border-radius:10px;background-color:lightgray" onclick="UserConfTemp(this)">Template Configuration</button>
        }
    </div>


    <div id="confcontentdiv" style="width:85%;display:flex;background-color:lightgray;align-items:center;justify-content:center">
        <div style="background-color:white;width:90%;height:90%;">
            <div style="display:flex;justify-content:space-evenly;background-color:lightgray;margin:3px;border-radius: 5px 5px 0px 0px;border-bottom:solid;border-color:gray;border-width:2px;cursor:pointer">
                <div id="createUserspan" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Create User</span>
                </div>
                <hr style="background-color:gray;width:2px;height:34px;margin:0px" />
                <div id="deleteUserspan" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Delete User</span>
                </div>
            </div>
            <div id="MainConfigureBody" style="display:flex;justify-content:center;height:50vh">
            </div>
        </div>
    </div>


    <template id="CreateUserBtnTemp">
        <div style="background-color:white;width:90%;height:90%;">
            <div style="display:flex;justify-content:space-evenly;background-color:lightgray;margin:3px;border-radius: 5px 5px 0px 0px;border-bottom:solid;border-color:gray;border-width:2px;cursor:pointer">
                <div id="createUserspan" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Create User</span>
                </div>
                <hr style="background-color:gray;width:2px;height:34px;margin:0px" />
                <div id="deleteUserspan" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Delete User</span>
                </div>
            </div>
            <div id="MainConfigureBody" style="display:flex;justify-content:center;height:50vh;">
            </div>
        </div>
    </template>

    <template id="templatebtntemp">
        <div style="background-color:white;width:90%;height:90%;">
            <div style="display:flex;justify-content:space-evenly;background-color:lightgray;margin:3px;border-radius: 5px 5px 0px 0px;border-bottom:solid;border-color:gray;border-width:2px;cursor:pointer">
                <div id="createTemplate" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Create Template</span>
                </div>
                <hr style="background-color:gray;width:2px;height:34px;margin:0px" />
                <div id="edittemplate" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Edit Template</span>
                </div>
                <hr style="background-color:gray;width:2px;height:34px;margin:0px" />
                <div id="deletetemplate" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Delete Template</span>
                </div>
            </div>
            <div id="MainConfigureBody" style="display:flex;justify-content:flex-start;height:50vh">
            </div>
        </div>
    </template>


    <template id="edittemplatetemp">
        <div id="mainEditDiv" style="display:flex;flex-direction:column">
        </div>
    </template>

    <template id="deletetemplatetemp">
        <div id="mainDelDiv" style="display:flex;flex-direction:column;width:100%">
        </div>
    </template>


    <template id="CreateSAPBtnTemp">
        <div style="background-color:white;width:90%;height:90%;">
            <div style="display:flex;justify-content:space-evenly;background-color:lightgray;margin:3px;border-radius: 5px 5px 0px 0px;border-bottom:solid;border-color:gray;border-width:2px;cursor:pointer">
                <div id="createSAPspan" style="margin:5px 5px;width:50%;text-align:center">
                    <span>Edit SAP Link and SAP Credentials</span>
                </div>
                @if (Model.ModuleId == 5)
                {
                    <hr style="background-color:gray;width:2px;height:34px;margin:0px" />
                    <div id="EditWeightSap" style="margin:5px 5px;width:50%;text-align:center">
                        <span>Edit SAP Link and SAP Credentials for Weight Data Update</span>
                    </div>
                }
            </div>
            <div id="MainConfigureBody" style="display:flex;justify-content:center;height:50vh">
                <div style="display:flex;flex-direction:column;justify-content:center;">
                    @if (Model.ModuleId == 5)
                    {
                        <span style="font-weight:bold;font-size:150%;margin-bottom:2px;text-decoration: underline solid black 3px">SAP Link To Fetch Data</span>
                    }
                    <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                        <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                            <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP Link</label>
                            <input id="SAPLink" style="border-radius:5px;padding:5px 5px;width:80%" type="text" placeholder="SAP Link" />
                            <input id="SAPLinkId" style="display:none" type="hidden" placeholder="SAP Link" />
                            <input id="SAPTypeId" style="display:none" value="1" type="hidden" placeholder="SAP Link" />
                        </div>
                        <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                            <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP User Name</label>
                            <input id="SAPUserName" style="border-radius:5px;padding:5px 5px;width:80%" type="text" placeholder="SAP User Name" />
                        </div>
                        <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                            <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP Password</label>
                            <input id="SAPPassword" style="border-radius:5px;padding:5px 5px;width:80%" type="password" placeholder="SAP Password" />
                        </div>
                        <div style="display:flex;justify-content:space-evenly">
                            <button style="width:35%;border-radius:5px" onclick="UpdateSAPLink()">Update Data</button>
                            <button style="width:35%;border-radius:5px" onclick="CancelUpdateSAPLink()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>



    <template id="CreateIPBtnTemp">
        <div style="background-color:white;width:90%;height:90%;">
            <div style="display:flex;justify-content:space-evenly;background-color:lightgray;margin:3px;border-radius: 5px 5px 0px 0px;border-bottom:solid;border-color:gray;border-width:2px;cursor:pointer">
                @if (Model.ModuleId == 1 || Model.ModuleId == 3)
                {
                    <div id="TechniforConfBtn" style="margin:5px 5px;width:50%;text-align:center">
                        <span>Edit Technifor IP</span>
                    </div>
                    <hr style="background-color:gray;width:2px;height:34px;margin:0px" />
                    <div id="PLCConfbtn" style="margin:5px 5px;width:50%;text-align:center">
                        <span>Edit PLC IP</span>
                    </div>
                }
                else if (Model.ModuleId == 2)
                {
                    <div id="moxaConfBtn" style="margin:5px 5px;width:50%;text-align:center">
                        <span>Edit PLC IP</span>
                    </div>
                }
                else if (Model.ModuleId == 5)
                {
                    <div id="WeightipConfBtn" style="margin:5px 5px;width:50%;text-align:center">
                        <span>Edit Weight Data IP</span>
                    </div>
                }
            </div>
            <div id="MainConfigureBody" style="display:flex;justify-content:center;height:50vh">
            </div>
        </div>
    </template>
    <template id="CreateTempBtnTemp">
        <div style="background-color:white;width:90%;height:90%;">
            temp
        </div>
    </template>



    <template id="TechniforIPtemp">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">TechniforIp</label>
                    <input id="TechniforIp" style="border-radius:5px;padding:5px 5px" type="text" placeholder="TechniforIp" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">TechniforPort</label>
                    <input id="TechniforPort" style="border-radius:5px;padding:5px 5px" type="text" placeholder="TechniforPort" />
                    <input id="IPID" style="display:none" type="hidden" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="UpdatePLCDetails(@Model.ModuleId,1)">Update</button>
                    <button style="width:35%;border-radius:5px" onclick="cancelCreateUser()">Cancel</button>
                </div>
            </div>
        </div>
    </template>



    <template id="PLCIPtemp">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLCIp</label>
                    <input id="PLCIp" style="border-radius:5px;padding:5px 5px" type="text" placeholder="PLCIp" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLCPort</label>
                    <input id="PLCPort" style="border-radius:5px;padding:5px 5px" type="text" placeholder="PLCPort" />
                    <input id="IPID" style="display:none" type="hidden" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="UpdatePLCDetails(@Model.ModuleId,2)">Update</button>
                    <button style="width:35%;border-radius:5px" onclick="cancelCreateUser()">Cancel</button>
                </div>
            </div>
        </div>
    </template>


    <template id="moxaIPtemp">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLC IP</label>
                    <input id="moxaIp" style="border-radius:5px;padding:5px 5px" type="text" placeholder="PLC Ip" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLC Rack</label>
                    <input id="Moxarack" style="border-radius:5px;padding:5px 5px" type="text" placeholder="PLC Rack" />
                    <input id="IPID" style="display:none" type="hidden" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLC Slot</label>
                    <input id="moxaSlot" style="border-radius:5px;padding:5px 5px" type="text" placeholder="PLC Slot" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="UpdatePLCDetails(@Model.ModuleId,3)">Update</button>
                    <button style="width:35%;border-radius:5px" onclick="cancelCreateUser()">Cancel</button>
                </div>
            </div>
        </div>
    </template>

    <template id="WeightIPtemp">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLCIp</label>
                    <input id="WeightIp" style="border-radius:5px;padding:5px 5px" type="text" placeholder="Weight Ip" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">PLCPort</label>
                    <input id="WeightPort" style="border-radius:5px;padding:5px 5px" type="text" placeholder="Weight Port" />
                    <input id="IPID" style="display:none" type="hidden" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="UpdatePLCDetails(@Model.ModuleId,4)">Update</button>
                    <button style="width:35%;border-radius:5px" onclick="cancelCreateUser()">Cancel</button>
                </div>
            </div>
        </div>
    </template>



    <template id="sapconftemp">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            @if (Model.ModuleId == 5)
            {
                <span style="font-weight:bold;font-size:150%;margin-bottom:2px;text-decoration: underline solid black 3px">SAP Link To Fetch Data</span>
            }
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP Link</label>
                    <input id="SAPLink" style="border-radius:5px;padding:5px 5px;width:80%" type="text" placeholder="SAP Link" />
                    <input id="SAPLinkId" style="display:none" type="hidden" placeholder="SAP Link" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP User Name</label>
                    <input id="SAPUserName" style="border-radius:5px;padding:5px 5px;width:80%" type="text" placeholder="SAP User Name" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP Password</label>
                    <input id="SAPPassword" style="border-radius:5px;padding:5px 5px;width:80%" type="password" placeholder="SAP Password" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="UpdateSAPLink()">Update Data</button>
                    <button style="width:35%;border-radius:5px" onclick="CancelUpdateSAPLink()">Cancel</button>
                </div>
            </div>
        </div>

    </template>



    <template id="EditWeightSaptemp">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            <span style="font-weight:bold;font-size:150%;margin-bottom:2px;text-decoration: underline solid black 3px">SAP Link To Update Weight Data</span>
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP Link</label>
                    <input id="SAPLink" style="border-radius:5px;padding:5px 5px;width:80%" type="text" placeholder="SAP Link" />
                    <input id="SAPLinkId" style="display:none" type="hidden" placeholder="SAP Link" />
                    <input id="SAPTypeId" style="display:none" type="hidden" placeholder="SAP Link" value="2" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP User Name</label>
                    <input id="SAPUserName" style="border-radius:5px;padding:5px 5px;width:80%" type="text" placeholder="SAP User Name" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;width:40vw">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold;width:20%">SAP Password</label>
                    <input id="SAPPassword" style="border-radius:5px;padding:5px 5px;width:80%" type="password" placeholder="SAP Password" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="UpdateSAPLink()">Update Data</button>
                    <button style="width:35%;border-radius:5px" onclick="CancelUpdateSAPLink()">Cancel</button>
                </div>
            </div>
        </div>
    </template>



    @*oldData*@



    <template id="temtables">
        <div id="tempcreateindiv" style="display:flex;flex-direction:column">
            <div style="margin:3% 0%;display:flex;justify-content:space-around;min-width:100%">
                <div style="width:40%;">
                    <table id="templatemaintable" style="text-align:left;height:40vh;overflow-y:scroll">
                        <thead>
                            <tr style="text-align:left">
                                <th width="70px" style="text-align:center">Line</th>
                                @if (Model.ModuleId == 5)
                                {
                                    <th width="70px" style="text-align:center">S</th>
                                    <th width="70px" style="text-align:center">D</th>
                                }
                                <th width="700px" style="text-align:center">Prefix Text</th>
                            </tr>
                        </thead>
                        <tbody id="TemplateBody">
                            @for (var i = 1; i <= 7; i++)
                            {
                                <tr>
                                    <td id="tagselect" style="text-align:center">@i</td>
                                    @if (Model.ModuleId == 5)
                                    {
                                        <td><input id="ShellPunching" type="checkbox" /></td>
                                        <td><input id="DiscPunching" type="checkbox" /></td>
                                    }
                                    <td contenteditable="true"></td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                <div style="width:40%;margin-left:2%">
                    <table id="templatetable" style="text-align:left;height:40vh;overflow-y:scroll">
                        <thead>
                            <tr style="text-align:left">
                                @*<th width="50px" style="text-align:center"> Select</th>*@
                                <th width="450px" style="text-align:center">SAP Tags</th>
                            </tr>
                        </thead>
                        <tbody id="samplebody">
                            @if (@Model.ModuleId != 4 && @Model.ModuleId != 5)
                            {
                                @*                        <tr>
                            <td id="tagselect" style="text-align:center"><input type="checkbox" /></td>
                            <td contenteditable="false">&lt;JSW&gt;</td>
                            </tr>*@
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;WEIGHT&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;HEAT NO&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;GRADE&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;GRADE2&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;SIZE&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;CUSTOMER REF&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;PO ORDER&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;PO NUMBER&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;PLATE NO&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                    <td contenteditable="false">&lt;CUSTOMER NAME&gt;</td>
                                </tr>
                            }
                            else if (@Model.ModuleId == 4)
                            {
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@
                                    <td contenteditable="false">STEEL GRADE -&lt;data&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@
                                    <td contenteditable="false">LENGTH -&lt;data&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@
                                    <td contenteditable="false">THICKNESS -&lt;data&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@
                                    <td contenteditable="false">WIDTH -&lt;data&gt;</td>
                                </tr>
                                <tr>
                                    @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@
                                    <td contenteditable="false">WEIGHT -&lt;data&gt;</td>
                                </tr>
                            }
                            else if (@Model.ModuleId == 5)
                            {
                                {
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@
                                        <td contenteditable="false">&lt;JSW&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;COIL NO&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;ACT WEIGHT&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;HEAT NO&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;GRADE&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;SIZE&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;CUSTOMER REF&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;PO ORDER&gt;</td>
                                    </tr>
                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;PO NUMBER&gt;</td>
                                    </tr>

                                    <tr>
                                        @*<td id="tagselect" style="text-align:center"><input type="checkbox" /></td>*@

                                        <td contenteditable="false">&lt;CUSTOMER NAME&gt;</td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </template>

    <template id="dropdown">

        <div id="dropdownmaindiv" style="margin-left:3%;margin-top:1%;width:100%;display:flex;gap:2%">
            <label style="background-color:skyblue;width:10%;margin-top:3px;margin-bottom:2px;border-radius:5px;margin-bottom:5px;text-align:center;font-weight:bold" for="ReportSelection">Choose a Template</label>
            <br />
            <select name="TemplateSelection" id="TemplateSelection" style="width:10%;text-align:center;border-color:black;background-color:gray;color:white;font-weight:500;border-radius:5px">
                <option style="width:100%;text-align:center;border-color:black;background-color:gray;color:white;font-weight:500;border-radius:5px">Select the template</option>
            </select>
        </div>

    </template>

    <template id="dropdown2">

        <div style="margin-left:3%;margin-top:1%;width:10%">
            <label style="background-color:skyblue;width:100%;margin-top:3px;margin-bottom:2px;border-radius:5px;margin-bottom:5px;text-align:center;font-weight:bold" for="ReportSelection">Choose a Template</label>
            <br />
            <select name="TemplateSelection" id="TemplateSelection" style="width:100%;text-align:center;border-color:black;background-color:gray;color:white;font-weight:500;border-radius:5px">
                <option style="width:100%;text-align:center;border-color:black;background-color:gray;color:white;font-weight:500;border-radius:5px">Select the template</option>
            </select>
        </div>

    </template>


    <template id="templatename">
        <div style="margin:1% 3% 1% 3%;width:20%">
            <div style="top:0px;margin-right:10px">
                <label class="adduser-btn" style="border-width:2px;border-color:black;border-style:solid">Template Name</label>
            </div>
            <div style="top:0px">
                <input type="text" id="templateNameTag" style="border-radius:7px;background-color:rgb(217, 217, 217);width:120%" />
            </div>
        </div>
    </template>


    <template id="addTemplateButton">
        <div style="width:100%;margin-left:2%;display:flex;justify-content:flex-start;margin:1% 3% 1% 3%">
            <div style="display:flex;flex-direction:row;align-items:center;width:20%">
                <input type="checkbox" id="DefaultTemplate" />
                <label style="margin-left:10px">Default Template</label>
            </div>
            <div style="display:flex;flex-direction:row;align-items:center;">
                @if (Model.ModuleId != 5)
                {
                    <button id="AddUpdateDeleteBtn" class="plate-btn" onclick="AddNewTemplateDB()" style="height:100%">Add Template</button>
                }
                else
                {
                    <button id="AddUpdateDeleteBtn" class="plate-btn" onclick="AddDCNewTemplateDB()" style="height:100%">Add Template</button>
                }
                <input type="hidden" id="ModuleIdCon" style="display:none" value="@Model.ModuleId" />
                <button style="width:35%;border-radius:5px;margin-left:10px" onclick="cancelCreateUser()">Cancel</button>
            </div>
        </div>
    </template>


    <template id="UPDATETemplateButton">
        <div style="width:100%;margin-left:2%;display:flex;justify-content:flex-start;margin:1% 3% 1% 3%">
            <div style="display:flex;flex-direction:row;align-items:center;width:20%">
                <input type="checkbox" id="DefaultTemplate" />
                <label style="margin-left:10px">Default Template</label>
            </div>
            <div style="display:flex;flex-direction:row;align-items:center;">
                @if(Model.ModuleId != 5)
                {
                <button id="AddUpdateDeleteBtn" class="plate-btn" onclick="UpdateTemplatedata()" style="height:100%">Update Template</button>
                }
                else
                {
                <button id="AddUpdateDeleteBtn" class="plate-btn" onclick="UpdateDCTemplatedata()" style="height:100%">Update Template</button>
                }
                <input type="hidden" id="ModuleIdCon" style="display:none" value="@Model.ModuleId" />
                <button style="width:35%;border-radius:5px;margin-left:10px" onclick="cancelCreateUser()">Cancel</button>
            </div>
        </div>
    </template>

    <template id="addUTemplateButton">
        <div style="width:15%;margin-left:2%">
            <button class="plate-btn" onclick="UpdateTemplatedata()" style="position:absolute;bottom:4%;width:12%;height:7%">Update Template</button>
            <input type="hidden" id="ModuleIdCon" value="@Model.ModuleId" />
        </div>
    </template>

    <template id="Deletebutt">
        <div style="width:15%;margin-left:2%;display:flex;flex-direction:column">
            <button class="plate-btn" onclick="deletetemplateDB()" style="position:absolute;width:12%;height:7%;margin-top:1%;">Delete Template</button>
            <input type="hidden" id="ModuleIdCon" value="@Model.ModuleId" />
        </div>
    </template>


    <template id="CreateUserTemplate">
        <div style="display:flex;flex-direction:column;justify-content:center;">
            <div style="border-color:lightgray;border-width:1px;border-radius:5px;border-style:solid;padding:20px">
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">User Name</label>
                    <input id="addUser" style="border-radius:5px;padding:5px 5px" type="text" placeholder="username" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">Password</label>
                    <input id="addPassword" style="border-radius:5px;padding:5px 5px" type="password" placeholder="Password" />
                </div>
                <div style="padding:10px 0;display: flex;justify-content: space-between;">
                    <label style="margin:0px 25px 0px 0px;font-weight:bold">Confirm Password</label>
                    <input id="caddPassword" style="border-radius:5px;padding:5px 5px" type="password" placeholder="Password" />
                </div>
                <div style="display:flex;justify-content:space-evenly">
                    <button style="width:35%;border-radius:5px" onclick="createUser()">Add User</button>
                    <button style="width:35%;border-radius:5px" onclick="cancelCreateUser()">Cancel</button>
                </div>
            </div>
        </div>

    </template>
    <template id="DeleteUserTemplate">
        <div>
            <table class="table table-dark" style="background-color:gray;width:40vw">
                <thead>
                    <tr>
                        <td>SL No</td>
                        <td>User Id</td>
                        <td>Date</td>
                        <td>User Name</td>
                        <td>Delete</td>
                    </tr>
                </thead>
                <tbody id="DeleteUserBody" style="background-color:lightgray;color:black">
                </tbody>
            </table>
        </div>
    </template>

</div>



<script>





    $(document).ready(function () {
        $('#newPlate')[0].className = "inactive-sidebar";
        $('#reports')[0].className = "inactive-sidebar";
        $('#configure')[0].className = "active-sidebar";

        $.ajax({
            url: '/Configure/GetSapLink?moduleId=@Model.ModuleId',
            type: "GET",
            success: function (data) {
                document.getElementById('addSAPLink').value = data.sapLink;
                document.getElementById('addSAPLinkid').value = data.sapLinkId;
                document.getElementById("addSAPPassword").value = data.sapPassword;
                document.getElementById("addSAPUser").value = data.sapUserName;
                if (@Model.ModuleId == 1 || @Model.ModuleId == 3) {
                    document.getElementById("Techniforip").value = data.techniforIP;
                    document.getElementById("Techniforport").value = data.techniforPort;
                    document.getElementById("PLCip").value = data.plcip;
                    document.getElementById("PLCPort").value = data.plcPort;
                }
                else if (@Model.ModuleId == 2) {
                    document.getElementById("moxaip").value = data.techniforIP;
                    document.getElementById("moxaSlot").value = data.techniforslot;
                    document.getElementById("moxaRack").value = data.techniforRack;
                }
                else if (@Model.ModuleId == 5) {
                    document.getElementById("weightingmachineip").value = data.techniforIP;
                    document.getElementById("weightingmachineport").value = data.techniforPort;
                    document.getElementById("addWeightSapLink").value = data.sapWeightLink;
                    document.getElementById("addSAPWeightLinkid").value = data.sapWeightId;
                }
            }
        });


        $('#createUserspan').click(function () {
            CreateUserTemplateLoad();
        })


        $('#deleteUserspan').click(function () {
            DeleteUserTemplateLoad();
        })

        function GetModuleId() {
            return @Model.ModuleId;
        }


    });

    function OnReportsClick() {
        window.location.href = '/Reports/Reports?UserName=@Model.UserName&ModuleId=@Model.ModuleId&RoleId=@Model.RoleId&UserId=@Model.UserId';
    }

    function OnNewPlateClick() {
        window.location.href = '/Plate/Index?UserName=@Model.UserName&ModuleId=@Model.ModuleId&RoleId=@Model.RoleId&UserId=@Model.UserId';
    }



    function UpdateTemplate() {
        var divtag = document.getElementById("UpdateTemplate");
        if (divtag.style.visibility == "hidden") {
            divtag.style.visibility = "visible";
            var dropd = $('#dropdown').html();
            divtag.innerHTML += dropd;
            var temptables = $('#temtables').html();
            divtag.innerHTML += temptables;
            var buttons = $('#addUTemplateButton').html();
            divtag.innerHTML += buttons;

            $.ajax({
                url: "/Plate/GetTemplateDropDown?ModuleId=@Model.ModuleId",
                type: "GET",
                success: function (data) {
                    var dropDown = document.getElementById("TemplateSelection");
                    $.each(data, function (index, value) {
                        var newOption = document.createElement("option");
                        newOption.style = "width:100%;text-align:center;border-color:black;background-color:gray;color:white;font-weight:500;border-radius:5px";
                        newOption.id = value.id;
                        newOption.value = value.id;
                        newOption.innerHTML = value.templateName;
                        dropDown.appendChild(newOption);
                    });
                }

            });

            $('#templatetable').on('click', 'input[type="checkbox"]', function (e) {
                if (this.checked == true) {
                    AppendTemplateLine(this);
                }
                else {
                    RemoveTemplateLine(this);
                }

            });

            $('#TemplateSelection').change(function (e) {
                var TemplateRows = document.getElementById("TemplateSelection").value;
                if (TemplateRows != 0 && TemplateRows != undefined) {
                    $.ajax({
                        url: "/Plate/GetTemplateRows?TemplateId=" + TemplateRows,
                        type: "GET",
                        success: function (response) {
                            document.getElementById("TemplateBody").innerHTML = "";
                            $.each(response, function (index, value) {
                                var row = document.createElement("tr");
                                var cell1 = document.createElement("td");
                                cell1.textContent = index + 1;
                                cell1.bgColor = "#F5F5F5";
                                cell1.align = "center";
                                row.appendChild(cell1);
                                var cell2 = document.createElement("td");
                                cell2.textContent = value.row;
                                cell2.bgColor = "#F5F5F5";
                                cell2.contentEditable = true;
                                row.appendChild(cell2);
                                document.getElementById("TemplateBody").append(row);
                                //var x = document.getElementById("samplebody").children;
                                //$.each(x, function (a, b) {
                                //    if (b.children[1].innerText == value.row) {
                                //        b.children[0].children[0].checked = true;
                                //    }
                                //});
                            });
                        }
                    });
                }
            });


        }
        else {
            divtag.style.visibility = "hidden";
            divtag.innerHTML = "";
        }

    }



    function DeleteTemplate() {
        var divtag = document.getElementById("UpdateTemplate");
        if (divtag.style.visibility == "hidden") {
            divtag.style.visibility = "visible";
            var div = document.createElement("div");

            var dropd = $('#dropdown2').html();
            div.innerHTML += dropd;
            var buttons = $('#Deletebutt').html();
            div.innerHTML += buttons;
            div.style.width = "100%";
            div.style.display = "flex";
            div.style.flexWrap = "wrap";
            divtag.appendChild(div);




            $.ajax({
                url: "/Plate/GetTemplateDropDown?ModuleId=@Model.ModuleId",
                type: "GET",
                success: function (data) {
                    var dropDown = document.getElementById("TemplateSelection");
                    $.each(data, function (index, value) {
                        var newOption = document.createElement("option");
                        newOption.style = "width:100%;text-align:center;border-color:black;background-color:gray;color:white;font-weight:500;border-radius:5px";
                        newOption.id = value.id;
                        newOption.value = value.id;
                        newOption.innerHTML = value.templateName;
                        dropDown.appendChild(newOption);
                    });
                }

            });
        }
        else {
            divtag.style.visibility = "hidden";
            divtag.innerHTML = "";
        }
    }




</script>